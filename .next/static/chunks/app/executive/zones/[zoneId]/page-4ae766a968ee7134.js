(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{71189:function(e,s,t){Promise.resolve().then(t.bind(t,80699))},80699:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var r=t(57437),a=t(2265),n=t(99376),i=t(27648),d=t(97871),c=t(3985),l=t(91591),o=t(4272),x=t(70279),m=t(65174);let h={[c.rN.LOW]:"bg-green-100 text-green-700",[c.rN.MED]:"bg-amber-100 text-amber-700",[c.rN.HIGH]:"bg-red-100 text-red-700"};function f(){let e=(0,n.useParams)().zoneId,{liveState:s,loading:t,error:c}=(0,d.i)(),f=(0,a.useMemo)(()=>{var t;return null!==(t=null==s?void 0:s.zones.find(s=>s.zone_id===e))&&void 0!==t?t:null},[s,e]);if(t)return(0,r.jsx)(x.IZ,{});if(c||!s)return(0,r.jsx)(m.Z,{message:null!=c?c:"Demo Data Unavailable",backHref:"/executive",backLabel:"Back to Command Brief"});if(!f)return(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:['Zone "',e,'" not found']}),(0,r.jsx)(i.default,{href:"/executive",className:"text-sm text-blue-600 hover:underline",children:"Back to Command Brief"})]})});let p=f.forecast_30m.reduce((e,s)=>s.risk>e?s.risk:e,0),g=f.interventions.length,b=f.recommendations.length;return(0,r.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,r.jsx)(l.Z,{title:"Executive Zone Detail",snapshotId:s.snapshot_id,timestamp:s.timestamp}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(i.default,{href:"/executive",className:"text-sm text-gray-400 hover:text-gray-600",children:"Command Brief"}),(0,r.jsx)("span",{className:"text-gray-300",children:"/"}),(0,r.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:f.name})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:f.name}),(0,r.jsxs)("span",{className:"text-xs font-medium px-2.5 py-1 rounded-full ".concat(h[f.risk_level]),children:[f.risk_level," RISK"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:[(0,r.jsx)("p",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider",children:"Current Risk"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(100*f.risk_score),"%"]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:[(0,r.jsx)("p",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider",children:"Peak Forecast"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(100*p),"%"]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:[(0,r.jsx)("p",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider",children:"Interventions"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:g})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:[(0,r.jsx)("p",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider",children:"Open Recs"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]}),(0,r.jsx)(o.Z,{data:f.forecast_30m,title:"Risk Forecast â€” ".concat(f.name)}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Recommendations"}),0===f.recommendations.length?(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"No active recommendations"}):(0,r.jsx)("div",{className:"space-y-2",children:f.recommendations.map(e=>(0,r.jsxs)("div",{className:"flex items-start justify-between py-2 border-b border-gray-50 last:border-0",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.action}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.impact})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 shrink-0 ml-3",children:[(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:[Math.round(100*e.confidence),"% conf."]}),(0,r.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full ".concat("HIGH"===e.priority?"bg-red-100 text-red-700":"MED"===e.priority?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"),children:e.priority})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Active Interventions"}),0===f.interventions.length?(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"No interventions applied"}):(0,r.jsx)("div",{className:"space-y-2",children:f.interventions.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-50 last:border-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.action}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["Applied: ",e.applied_at]})]}),(0,r.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full ".concat("active"===e.status?"bg-green-50 text-green-700":"bg-amber-50 text-amber-700"),children:e.status})]},e.id))})]})]})]})}},4272:function(e,s,t){"use strict";t.d(s,{Z:function(){return m}});var r=t(57437),a=t(47625),n=t(5019),i=t(56940),d=t(97059),c=t(62994),l=t(8147),o=t(23263),x=t(54061);function m(e){let{data:s,title:t="30-Minute Risk Forecast"}=e;if(!s||0===s.length)return(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:t}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"No forecast data available"})]});let m=s.map(e=>({...e,riskPct:Math.round(100*e.risk),confPct:Math.round(100*e.confidence)}));return(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:t}),(0,r.jsx)("div",{className:"h-56",children:(0,r.jsx)(a.h,{width:"100%",height:"100%",children:(0,r.jsxs)(n.c,{data:m,children:[(0,r.jsx)(i.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,r.jsx)(d.K,{dataKey:"time",tick:{fontSize:11,fill:"#9ca3af"},axisLine:{stroke:"#e5e7eb"}}),(0,r.jsx)(c.B,{domain:[0,100],tick:{fontSize:11,fill:"#9ca3af"},axisLine:{stroke:"#e5e7eb"},tickFormatter:e=>"".concat(e,"%")}),(0,r.jsx)(l.u,{contentStyle:{fontSize:12,borderRadius:8,border:"1px solid #e5e7eb"},formatter:(e,s)=>["".concat(e,"%"),"riskPct"===s?"Risk":"Confidence"]}),(0,r.jsx)(o.u,{type:"monotone",dataKey:"confPct",fill:"#dbeafe",stroke:"none",fillOpacity:.4}),(0,r.jsx)(x.x,{type:"monotone",dataKey:"riskPct",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}}),(0,r.jsx)(x.x,{type:"monotone",dataKey:"confPct",stroke:"#3b82f6",strokeWidth:1.5,strokeDasharray:"4 4",dot:!1})]})})}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("span",{className:"w-3 h-0.5 bg-red-500 rounded"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Risk"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("span",{className:"w-3 h-0.5 bg-blue-500 rounded border-dashed"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Confidence"})]})]})]})}}},function(e){e.O(0,[648,81,382,971,117,744],function(){return e(e.s=71189)}),_N_E=e.O()}]);
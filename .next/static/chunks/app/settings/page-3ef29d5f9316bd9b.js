(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{32295:function(e,t,s){Promise.resolve().then(s.bind(s,51856))},51856:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(57437),a=s(65056),n=s(93583),i=s(91591);let l=[{id:"normal",label:"Normal",description:"Typical school day — moderate risk, routine operations"},{id:"surge",label:"Surge",description:"Traffic surge event — elevated risk across multiple zones"},{id:"weather",label:"Weather",description:"Severe weather — reduced visibility, wet roads, camera outages"},{id:"dismissal",label:"Dismissal",description:"School dismissal — peak pedestrian activity and congestion"}],o=[{value:3e3,label:"3s (Fast)"},{value:5e3,label:"5s (Normal)"},{value:1e4,label:"10s (Slow)"},{value:15e3,label:"15s (Very Slow)"}];function c(){let{config:e,updateConfig:t}=(0,a.c)(),{toast:s}=(0,n.p)();return(0,r.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,r.jsx)(i.Z,{title:"Settings"}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 max-w-2xl",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Demo Settings"}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Scenario"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(a=>(0,r.jsxs)("button",{onClick:()=>{t({scenario:a.id}),s("Scenario changed to ".concat(a.label),"success")},className:"text-left border rounded-lg p-4 transition-colors ".concat(e.scenario===a.id?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,r.jsx)("p",{className:"text-sm font-medium ".concat(e.scenario===a.id?"text-blue-700":"text-gray-900"),children:a.label}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.description})]},a.id))})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Time Mode"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:()=>{t({timeMode:"live"}),s("Switched to Live mode","info")},className:"flex-1 border rounded-lg p-4 transition-colors ".concat("live"===e.timeMode?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,r.jsx)("p",{className:"text-sm font-medium ".concat("live"===e.timeMode?"text-green-700":"text-gray-900"),children:"Live"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Snapshots rotate automatically"})]}),(0,r.jsxs)("button",{onClick:()=>{t({timeMode:"paused"}),s("Switched to Paused mode","info")},className:"flex-1 border rounded-lg p-4 transition-colors ".concat("paused"===e.timeMode?"border-amber-500 bg-amber-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,r.jsx)("p",{className:"text-sm font-medium ".concat("paused"===e.timeMode?"text-amber-700":"text-gray-900"),children:"Paused"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Freeze on current snapshot"})]})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Snapshot Interval"}),(0,r.jsx)("select",{value:e.snapshotIntervalMs,onChange:e=>t({snapshotIntervalMs:Number(e.target.value)}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 text-gray-700 bg-white w-full max-w-xs",children:o.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"How often the live state rotates between snapshots"})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Features"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-lg p-4 cursor-pointer",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Demo Mutation"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Allow in-memory intervention application"})]}),(0,r.jsx)("input",{type:"checkbox",checked:e.demoMutationEnabled,onChange:e=>t({demoMutationEnabled:e.target.checked}),className:"w-4 h-4 text-blue-600 rounded"})]}),(0,r.jsxs)("label",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-lg p-4 cursor-pointer",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Runtime Validation"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Validate each snapshot against schema on load"})]}),(0,r.jsx)("input",{type:"checkbox",checked:e.runtimeValidationEnabled,onChange:e=>t({runtimeValidationEnabled:e.target.checked}),className:"w-4 h-4 text-blue-600 rounded"})]})]})]}),(0,r.jsx)("section",{className:"border-t border-gray-200 pt-6",children:(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"All settings are persisted to localStorage and take effect immediately. Demo mutations are in-memory only and reset on page refresh."})})]})]})}},93583:function(e,t,s){"use strict";s.d(t,{ToastProvider:function(){return o},p:function(){return i}});var r=s(57437),a=s(2265);let n=(0,a.createContext)({toast:()=>{}});function i(){return(0,a.useContext)(n)}let l=0;function o(e){let{children:t}=e,[s,i]=(0,a.useState)([]),o=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=++l;i(r=>[...r,{id:s,text:e,type:t}]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==s))},3e3)},[]);return(0,r.jsxs)(n.Provider,{value:{toast:o},children:[t,(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:s.map(e=>(0,r.jsx)(c,{message:e,onDismiss:()=>i(t=>t.filter(t=>t.id!==e.id))},e.id))})]})}function c(e){let{message:t,onDismiss:s}=e,a="success"===t.type?"bg-green-50 border-green-200 text-green-800":"error"===t.type?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800";return(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-lg border shadow-sm text-sm animate-in slide-in-from-right ".concat(a),children:[(0,r.jsx)("span",{className:"flex-1",children:t.text}),(0,r.jsx)("button",{onClick:s,className:"opacity-60 hover:opacity-100 text-xs",children:"✕"})]})}},91591:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(57437),a=s(65056);let n={normal:"Normal",surge:"Surge",weather:"Weather",dismissal:"Dismissal"};function i(e){let{snapshotId:t,timestamp:s,title:i="Operations Console"}=e,{config:l,updateConfig:o}=(0,a.c)(),c=s?function(e){let t=new Date(e),s=String(t.getUTCHours()).padStart(2,"0"),r=String(t.getUTCMinutes()).padStart(2,"0"),a=String(t.getUTCSeconds()).padStart(2,"0");return"".concat(s,":").concat(r,":").concat(a," UTC")}(s):"--:--:--";return(0,r.jsxs)("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("h1",{className:"text-sm font-semibold text-gray-900",children:i}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"|"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["Snapshot: ",t]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("select",{value:l.scenario,onChange:e=>o({scenario:e.target.value}),className:"text-xs border border-gray-200 rounded-md px-2 py-1 text-gray-600 bg-white",children:Object.keys(n).map(e=>(0,r.jsx)("option",{value:e,children:n[e]},e))}),(0,r.jsx)("button",{onClick:()=>o({timeMode:"live"===l.timeMode?"paused":"live"}),className:"flex items-center gap-1.5 text-xs px-2 py-1 rounded-md border ".concat("live"===l.timeMode?"border-green-200 bg-green-50 text-green-700":"border-amber-200 bg-amber-50 text-amber-700"),children:"live"===l.timeMode?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,r.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),(0,r.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Live"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"inline-flex rounded-full h-2 w-2 bg-amber-500"}),"Paused"]})}),(0,r.jsx)("span",{className:"text-xs font-mono text-gray-600",children:c})]})]})}},65056:function(e,t,s){"use strict";s.d(t,{DemoConfigProvider:function(){return c},c:function(){return o},f:function(){return d}});var r=s(57437),a=s(2265);let n={scenario:"normal",snapshotIntervalMs:5e3,timeMode:"live",demoMutationEnabled:!0,runtimeValidationEnabled:!0},i="schoolzone-demo-config",l=(0,a.createContext)({config:n,updateConfig:()=>{}});function o(){return(0,a.useContext)(l)}function c(e){let{children:t}=e,[s,o]=(0,a.useState)(n);(0,a.useEffect)(()=>{o(function(){try{let e=localStorage.getItem(i);if(!e)return n;let t=JSON.parse(e);return{...n,...t}}catch(e){return n}}())},[]);let c=(0,a.useCallback)(e=>{o(t=>{let s={...t,...e};return!function(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){}}(s),s})},[]);return(0,r.jsx)(l.Provider,{value:{config:s,updateConfig:c},children:t})}function d(e){return"/mock/scenarios/".concat(e)}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=32295)}),_N_E=e.O()}]);
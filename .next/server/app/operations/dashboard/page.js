(()=>{var e={};e.id=690,e.ids=[690],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},34153:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(96699),r(37698),r(35866);var a=r(23191),t=r(88716),n=r(37922),i=r.n(n),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(s,o);let d=["",{children:["operations",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,96699)),"/Users/dc/Documents/projects/schoolzone/app/operations/dashboard/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,37698)),"/Users/dc/Documents/projects/schoolzone/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/dc/Documents/projects/schoolzone/app/operations/dashboard/page.tsx"],m="/operations/dashboard/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/operations/dashboard/page",pathname:"/operations/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},44368:(e,s,r)=>{Promise.resolve().then(r.bind(r,35120))},35120:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var a=r(10326),t=r(64780),n=r(42771),i=r(83036);let l={normal:"border-gray-200",warning:"border-amber-300",critical:"border-red-400"},o={normal:"bg-green-500",warning:"bg-amber-500",critical:"bg-red-500"};function d({label:e,value:s,status:r="normal"}){return(0,a.jsxs)("div",{className:`bg-white rounded-lg border ${l[r]} px-5 py-4 flex flex-col gap-1`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${o[r]}`}),a.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:e})]}),a.jsx("span",{className:"text-2xl font-semibold text-gray-900",children:s})]})}var c=r(35047);let m={LOW:"border-green-500 bg-green-50",MED:"border-amber-500 bg-amber-50",HIGH:"border-red-500 bg-red-50"},x={LOW:"bg-green-100 text-green-700",MED:"bg-amber-100 text-amber-700",HIGH:"bg-red-100 text-red-700"};function p({zone:e}){let s=(0,c.useRouter)();return(0,a.jsxs)("button",{onClick:()=>s.push(`/operations/zones/${e.zone_id}`),className:`text-left border-l-4 ${m[e.risk_level]} rounded-lg p-4 hover:shadow-md transition-shadow bg-white cursor-pointer w-full`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:e.name}),a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${x[e.risk_level]}`,children:e.risk_level})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Risk Score"}),(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:[(100*e.risk_score).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Avg Speed"}),(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:[e.speed_avg_mph," mph"]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Pedestrians"}),a.jsx("p",{className:"font-medium text-gray-900",children:e.pedestrian_count})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Cameras"}),(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:[e.active_cameras,"/",e.total_cameras]})]})]})]})}var g=r(59940),u=r(90085),h=r(80805),b=r(58565);function v(){var e;let{liveState:s,loading:r,error:l}=(0,t.i)();if(r)return a.jsx(h.IZ,{});if(l||!s)return a.jsx(b.Z,{message:l??"Demo Data Unavailable"});let o=s.zones.flatMap(e=>e.interventions.map(s=>({...s,zoneName:e.name}))),c=s.zones[0];return(0,a.jsxs)("div",{className:"flex flex-col h-screen",children:[a.jsx(i.Z,{title:"Operations Dashboard",snapshotId:s.snapshot_id,timestamp:s.timestamp}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.jsx(d,{label:"District Risk",value:s.district_risk,status:(e=s.district_risk)===n.rN.HIGH?"critical":e===n.rN.MED?"warning":"normal"}),a.jsx(d,{label:"Active Alerts",value:s.active_alerts,status:s.active_alerts>3?"critical":"normal"}),a.jsx(d,{label:"Avg Latency",value:`${s.avg_latency_ms}ms`,status:s.avg_latency_ms>150?"warning":"normal"}),a.jsx(d,{label:"Camera Health",value:`${s.camera_health_pct}%`,status:s.camera_health_pct<95?"warning":"normal"}),a.jsx(d,{label:"Forecast Horizon",value:`${s.forecast_horizon_min}m`,status:"normal"})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Zone Overview"}),0===s.zones.length?a.jsx("p",{className:"text-sm text-gray-400",children:"No zones available"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.zones.map(e=>a.jsx(p,{zone:e},e.zone_id))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c&&a.jsx(g.Z,{data:c.forecast_30m,title:`Risk Forecast â€” ${c.name}`}),a.jsx(u.Z,{interventions:o})]})]})]})}},96699:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/dc/Documents/projects/schoolzone/app/operations/dashboard/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[335,752,513,253],()=>r(34153));module.exports=a})();
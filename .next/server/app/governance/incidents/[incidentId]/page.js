(()=>{var e={};e.id=459,e.ids=[459],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},31650:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>g,tree:()=>c}),s(90474),s(37698),s(35866);var n=s(23191),r=s(88716),a=s(37922),i=s.n(a),l=s(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["governance",{children:["incidents",{children:["[incidentId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,90474)),"/Users/dc/Documents/projects/schoolzone/app/governance/incidents/[incidentId]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37698)),"/Users/dc/Documents/projects/schoolzone/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/dc/Documents/projects/schoolzone/app/governance/incidents/[incidentId]/page.tsx"],x="/governance/incidents/[incidentId]/page",m={require:s,loadChunk:()=>Promise.resolve()},g=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/governance/incidents/[incidentId]/page",pathname:"/governance/incidents/[incidentId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4628:(e,t,s)=>{Promise.resolve().then(s.bind(s,2920))},2920:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var n=s(10326),r=s(17577),a=s(35047),i=s(90434);s(32056);var l=s(55374),d=s(94563),c=s(83036);let o={detection:"bg-blue-500",intervention:"bg-green-500",alert:"bg-amber-500",incident:"bg-red-500",response:"bg-purple-500",resolution:"bg-teal-500"};function x({events:e}){let[t,s]=(0,r.useState)(null);return e&&0!==e.length?(0,n.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Event Timeline"}),(0,n.jsxs)("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-px bg-gray-200"}),n.jsx("div",{className:"space-y-4",children:e.map(e=>{let r=o[e.type]||"bg-gray-400",a=t===e.event_id,i=new Date(e.timestamp),l=`${String(i.getUTCHours()).padStart(2,"0")}:${String(i.getUTCMinutes()).padStart(2,"0")}`;return(0,n.jsxs)("div",{className:"relative pl-8",children:[n.jsx("div",{className:`absolute left-1.5 top-1.5 w-3 h-3 rounded-full ${r} ring-2 ring-white`}),(0,n.jsxs)("button",{onClick:()=>s(a?null:e.event_id),className:"w-full text-left",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-mono text-gray-400",children:l}),n.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:e.type})]}),n.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:e.description})]}),a&&e.payload&&n.jsx("div",{className:"mt-2 bg-gray-50 rounded-md p-3 text-xs font-mono text-gray-600 overflow-x-auto",children:n.jsx("pre",{children:JSON.stringify(e.payload,null,2)})})]},e.event_id)})})]})]}):n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:n.jsx("p",{className:"text-sm text-gray-400",children:"No events to display"})})}function m({incident:e}){let t=e.model_metadata;return(0,n.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Model Provenance"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-xs text-gray-400 block",children:"Model"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:t.model_name})]}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-xs text-gray-400 block",children:"Version"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:t.model_version})]}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-xs text-gray-400 block",children:"Confidence"}),(0,n.jsxs)("span",{className:"text-sm text-gray-900 font-medium",children:[(100*t.prediction_confidence).toFixed(0),"%"]})]}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-xs text-gray-400 block",children:"Inference Latency"}),(0,n.jsxs)("span",{className:"text-sm text-gray-900 font-medium",children:[t.inference_latency_ms,"ms"]})]}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-xs text-gray-400 block",children:"Training Data"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:t.training_data_range})]}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-xs text-gray-400 block",children:"Features Used"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.features_used.map(e=>n.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:e},e))})]})]})]})}var g=s(80805),u=s(58565);let p={LOW:"bg-green-100 text-green-700",MED:"bg-amber-100 text-amber-700",HIGH:"bg-red-100 text-red-700"},h={investigating:"bg-red-50 text-red-600",monitoring:"bg-amber-50 text-amber-600",resolved:"bg-green-50 text-green-600"};function j(){(0,a.useParams)().incidentId;let{config:e}=(0,l.c)(),[t,s]=(0,r.useState)(null),[o,j]=(0,r.useState)(!0),[b,v]=(0,r.useState)(null);return o?n.jsx(g.IZ,{}):b||!t?n.jsx(u.Z,{message:b??"Demo Data Unavailable",backHref:"/governance/incidents",backLabel:"Back to Incidents"}):(0,n.jsxs)("div",{className:"flex flex-col h-screen",children:[n.jsx(c.Z,{title:"Incident Detail"}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx(i.default,{href:"/governance/incidents",className:"text-sm text-gray-400 hover:text-gray-600",children:"Incidents"}),n.jsx("span",{className:"text-gray-300",children:"/"}),n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:t.incident_id})]}),(0,n.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-xs font-mono text-gray-400",children:t.incident_id}),n.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${p[t.severity]||""}`,children:t.severity}),n.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${h[t.status]||"bg-gray-100 text-gray-600"}`,children:t.status}),n.jsx("span",{className:"text-xs text-gray-400",children:t.zone_name})]})]}),n.jsx("button",{onClick:()=>(0,d.j)(t),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Export JSON"})]}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t.summary}),(0,n.jsxs)("div",{className:"mt-4 flex items-center gap-4 text-xs text-gray-400",children:[(0,n.jsxs)("span",{children:["Type: ",n.jsx("span",{className:"text-gray-600",children:t.type})]}),(0,n.jsxs)("span",{children:["Reported: ",n.jsx("span",{className:"text-gray-600",children:function(e){let t=new Date(e),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()],n=t.getUTCDate(),r=t.getUTCFullYear(),a=String(t.getUTCHours()).padStart(2,"0"),i=String(t.getUTCMinutes()).padStart(2,"0");return`${s} ${n}, ${r} ${a}:${i} UTC`}(t.reported_at)})]})]})]}),n.jsx(x,{events:t.events}),n.jsx(m,{incident:t})]})]})}},58565:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(10326),r=s(90434);function a({message:e="Demo Data Unavailable",backHref:t,backLabel:s="Go Back"}){return n.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 flex items-center justify-center mx-auto mb-3",children:n.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("p",{className:"text-sm text-red-500 mb-2",children:e}),t&&n.jsx(r.default,{href:t,className:"text-sm text-blue-600 hover:underline",children:s})]})})}},80805:(e,t,s)=>{"use strict";s.d(t,{IZ:()=>r});var n=s(10326);function r(){return n.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Loading..."})]})})}},83036:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(10326),r=s(55374);let a={normal:"Normal",surge:"Surge",weather:"Weather",dismissal:"Dismissal"};function i({snapshotId:e,timestamp:t,title:s="Operations Console"}){let{config:i,updateConfig:l}=(0,r.c)(),d=t?function(e){let t=new Date(e),s=String(t.getUTCHours()).padStart(2,"0"),n=String(t.getUTCMinutes()).padStart(2,"0"),r=String(t.getUTCSeconds()).padStart(2,"0");return`${s}:${n}:${r} UTC`}(t):"--:--:--";return(0,n.jsxs)("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:s}),e&&(0,n.jsxs)(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"|"}),(0,n.jsxs)("span",{className:"text-xs text-gray-500",children:["Snapshot: ",e]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[n.jsx("select",{value:i.scenario,onChange:e=>l({scenario:e.target.value}),className:"text-xs border border-gray-200 rounded-md px-2 py-1 text-gray-600 bg-white",children:Object.keys(a).map(e=>n.jsx("option",{value:e,children:a[e]},e))}),n.jsx("button",{onClick:()=>l({timeMode:"live"===i.timeMode?"paused":"live"}),className:`flex items-center gap-1.5 text-xs px-2 py-1 rounded-md border ${"live"===i.timeMode?"border-green-200 bg-green-50 text-green-700":"border-amber-200 bg-amber-50 text-amber-700"}`,children:"live"===i.timeMode?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"relative flex h-2 w-2",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Live"]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("span",{className:"inline-flex rounded-full h-2 w-2 bg-amber-500"}),"Paused"]})}),n.jsx("span",{className:"text-xs font-mono text-gray-600",children:d})]})]})}},94563:(e,t,s)=>{"use strict";function n(e,t){let s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(s),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function r(e){n(e,`${e.incident_id}.json`)}function a(e){n({generated_at:new Date().toISOString(),district_risk_index:e.districtRiskIndex,forecasted_high_risk_window:e.forecastedHighRiskWindow,forecasted_high_risk_value:e.forecastedHighRiskValue,interventions_applied_today:e.interventionsAppliedToday,effectiveness_pct:e.effectiveness,governance_status:e.governanceStatus},`executive-summary-${Date.now()}.json`)}s.d(t,{M:()=>a,j:()=>r})},90474:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(68570).createProxy)(String.raw`/Users/dc/Documents/projects/schoolzone/app/governance/incidents/[incidentId]/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[335,513],()=>s(31650));module.exports=n})();